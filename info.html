<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=1920, height=540">
  <title>æƒ…å ±ãƒ‡ã‚£ã‚¹ãƒ—ãƒ¬ã‚¤</title>
  <style>
    * {
      margin:  0;
      padding: 0;
      box-sizing:  border-box;
    }
    
    body {
      background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
      color: white;
      font-family: 'Hiragino Sans', 'Meiryo', sans-serif;
      width: 1920px;
      height: 540px;
      overflow: hidden;
      display: flex;
      padding: 20px;
      gap: 20px;
    }
    
    .panel {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      border-radius: 15px;
      padding: 20px;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
    }
    
    /* ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ */
    .calendar {
      flex: 1;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
    }
    
    .calendar . month {
      font-size: 36px;
      font-weight:  300;
      margin-bottom: 10px;
    }
    
    .calendar . date {
      font-size: 120px;
      font-weight:  bold;
      line-height: 1;
      margin-bottom: 10px;
    }
    
    .calendar .day {
      font-size: 48px;
      font-weight:  300;
    }
    
    /* å¤©æ°— */
    .weather {
      flex: 1.2;
      display: flex;
      flex-direction: column;
    }
    
    .weather h2 {
      font-size:  28px;
      margin-bottom: 15px;
      border-bottom: 2px solid rgba(255,255,255,0.3);
      padding-bottom: 10px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .weather-current {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 20px;
    }
    
    .weather-icon {
      font-size: 80px;
    }
    
    .weather-temp {
      font-size: 56px;
      font-weight:  bold;
    }
    
    .weather-desc {
      font-size: 24px;
      opacity: 0.9;
    }
    
    .weather-details {
      font-size: 18px;
      line-height: 1.8;
      opacity: 0.8;
    }
    
    /* ãƒ‹ãƒ¥ãƒ¼ã‚¹ */
    .news {
      flex: 1.8;
      display: flex;
      flex-direction: column;
    }
    
    .news h2 {
      font-size: 28px;
      margin-bottom:  15px;
      border-bottom: 2px solid rgba(255,255,255,0.3);
      padding-bottom:  10px;
      display:  flex;
      justify-content:  space-between;
      align-items: center;
    }
    
    .news-list {
      flex: 1;
      overflow:  hidden;
    }
    
    .news-item {
      padding: 12px 0;
      border-bottom: 1px solid rgba(255,255,255,0.2);
      font-size: 18px;
      line-height:  1.4;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    .news-item:last-child {
      border-bottom: none;
    }
    
    .time {
      position: absolute;
      top: 20px;
      right: 30px;
      font-size:  24px;
      opacity: 0.8;
    }
    
    .loading {
      opacity: 0.5;
      font-style: italic;
    }
    
    /* è¨­å®šãƒœã‚¿ãƒ³ */
    .settings-btn {
      background: rgba(255, 255, 255, 0.2);
      border: none;
      color: white;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 18px;
      transition: all 0.3s;
    }
    
    .settings-btn:hover {
      background:  rgba(255, 255, 255, 0.3);
      transform: scale(1.05);
    }
    
    /* è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ« */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left:  0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }
    
    .modal. active {
      display: flex;
    }
    
    . modal-content {
      background:  linear-gradient(135deg, #2a5298 0%, #1e3c72 100%);
      padding: 40px;
      border-radius:  20px;
      width: 800px;
      max-height: 80%;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
    }
    
    .modal-content h2 {
      margin-bottom: 30px;
      font-size: 32px;
      border-bottom: 2px solid rgba(255,255,255,0.3);
      padding-bottom: 15px;
    }
    
    .setting-group {
      margin-bottom: 30px;
    }
    
    .setting-group label {
      display: block;
      font-size: 20px;
      margin-bottom:  10px;
      font-weight: bold;
    }
    
    .setting-group select {
      width: 100%;
      padding: 12px;
      font-size: 18px;
      border-radius: 8px;
      border: 2px solid rgba(255,255,255,0.3);
      background: rgba(255, 255, 255, 0.1);
      color: white;
      cursor: pointer;
    }
    
    .setting-group select option {
      background: #1e3c72;
      color: white;
    }
    
    .modal-buttons {
      display: flex;
      gap: 15px;
      margin-top: 30px;
    }
    
    .modal-buttons button {
      flex: 1;
      padding:  15px;
      font-size: 20px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      transition: all 0.3s;
    }
    
    .save-btn {
      background: #4caf50;
      color: white;
    }
    
    .save-btn:hover {
      background: #45a049;
      transform: scale(1.02);
    }
    
    .cancel-btn {
      background: rgba(255, 255, 255, 0.2);
      color: white;
    }
    
    .cancel-btn:hover {
      background: rgba(255, 255, 255, 0.3);
      transform: scale(1.02);
    }
  </style>
</head>
<body>
  <div class="time" id="currentTime"></div>
  
  <!-- ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ -->
  <div class="panel calendar">
    <div class="month" id="month"></div>
    <div class="date" id="date"></div>
    <div class="day" id="day"></div>
  </div>
  
  <!-- å¤©æ°— -->
  <div class="panel weather">
    <h2>
      <span>ğŸ“ <span id="regionName">æ±äº¬</span>ã®å¤©æ°—</span>
      <button class="settings-btn" onclick="openSettings()">âš™ï¸ è¨­å®š</button>
    </h2>
    <div class="weather-current">
      <div class="weather-icon" id="weatherIcon">â˜€ï¸</div>
      <div>
        <div class="weather-temp" id="temp">--Â°C</div>
        <div class="weather-desc" id="weatherDesc">èª­ã¿è¾¼ã¿ä¸­...</div>
      </div>
    </div>
    <div class="weather-details" id="weatherDetails">
      <div class="loading">å¤©æ°—æƒ…å ±ã‚’å–å¾—ä¸­...</div>
    </div>
  </div>
  
  <!-- ãƒ‹ãƒ¥ãƒ¼ã‚¹ -->
  <div class="panel news">
    <h2>
      <span>ğŸ“° <span id="categoryName">ãƒˆãƒƒãƒ—</span>ãƒ‹ãƒ¥ãƒ¼ã‚¹</span>
    </h2>
    <div class="news-list" id="newsList">
      <div class="loading">ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’èª­ã¿è¾¼ã¿ä¸­...</div>
    </div>
  </div>

  <!-- è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ« -->
  <div class="modal" id="settingsModal">
    <div class="modal-content">
      <h2>âš™ï¸ è¨­å®š</h2>
      
      <div class="setting-group">
        <label for="regionSelect">ğŸ—¾ å¤©æ°—äºˆå ±ã®åœ°åŸŸ</label>
        <select id="regionSelect">
          <optgroup label="åŒ—æµ·é“">
            <option value="016000">åŒ—æµ·é“ï¼ˆæœ­å¹Œï¼‰</option>
            <option value="017000">åŒ—æµ·é“ï¼ˆå‡½é¤¨ï¼‰</option>
          </optgroup>
          <optgroup label="æ±åŒ—">
            <option value="020000">é’æ£®çœŒ</option>
            <option value="030000">å²©æ‰‹çœŒ</option>
            <option value="040000">å®®åŸçœŒ</option>
            <option value="050000">ç§‹ç”°çœŒ</option>
            <option value="060000">å±±å½¢çœŒ</option>
            <option value="070000">ç¦å³¶çœŒ</option>
          </optgroup>
          <optgroup label="é–¢æ±">
            <option value="080000">èŒ¨åŸçœŒ</option>
            <option value="090000">æ ƒæœ¨çœŒ</option>
            <option value="100000">ç¾¤é¦¬çœŒ</option>
            <option value="110000">åŸ¼ç‰çœŒ</option>
            <option value="120000">åƒè‘‰çœŒ</option>
            <option value="130000" selected>æ±äº¬éƒ½</option>
            <option value="140000">ç¥å¥ˆå·çœŒ</option>
          </optgroup>
          <optgroup label="ä¸­éƒ¨">
            <option value="150000">æ–°æ½ŸçœŒ</option>
            <option value="160000">å¯Œå±±çœŒ</option>
            <option value="170000">çŸ³å·çœŒ</option>
            <option value="180000">ç¦äº•çœŒ</option>
            <option value="190000">å±±æ¢¨çœŒ</option>
            <option value="200000">é•·é‡çœŒ</option>
            <option value="210000">å²é˜œçœŒ</option>
            <option value="220000">é™å²¡çœŒ</option>
            <option value="230000">æ„›çŸ¥çœŒ</option>
          </optgroup>
          <optgroup label="è¿‘ç•¿">
            <option value="240000">ä¸‰é‡çœŒ</option>
            <option value="250000">æ»‹è³€çœŒ</option>
            <option value="260000">äº¬éƒ½åºœ</option>
            <option value="270000">å¤§é˜ªåºœ</option>
            <option value="280000">å…µåº«çœŒ</option>
            <option value="290000">å¥ˆè‰¯çœŒ</option>
            <option value="300000">å’Œæ­Œå±±çœŒ</option>
          </optgroup>
          <optgroup label="ä¸­å›½">
            <option value="310000">é³¥å–çœŒ</option>
            <option value="320000">å³¶æ ¹çœŒ</option>
            <option value="330000">å²¡å±±çœŒ</option>
            <option value="340000">åºƒå³¶çœŒ</option>
            <option value="350000">å±±å£çœŒ</option>
          </optgroup>
          <optgroup label="å››å›½">
            <option value="360000">å¾³å³¶çœŒ</option>
            <option value="370000">é¦™å·çœŒ</option>
            <option value="380000">æ„›åª›çœŒ</option>
            <option value="390000">é«˜çŸ¥çœŒ</option>
          </optgroup>
          <optgroup label="ä¹å·ãƒ»æ²–ç¸„">
            <option value="400000">ç¦å²¡çœŒ</option>
            <option value="410000">ä½è³€çœŒ</option>
            <option value="420000">é•·å´çœŒ</option>
            <option value="430000">ç†Šæœ¬çœŒ</option>
            <option value="440000">å¤§åˆ†çœŒ</option>
            <option value="450000">å®®å´çœŒ</option>
            <option value="460100">é¹¿å…å³¶çœŒ</option>
            <option value="471000">æ²–ç¸„çœŒï¼ˆé‚£è¦‡ï¼‰</option>
          </optgroup>
        </select>
      </div>
      
      <div class="setting-group">
        <label for="categorySelect">ğŸ“° ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚«ãƒ†ã‚´ãƒª</label>
        <select id="categorySelect">
          <option value="top-picks" selected>ãƒˆãƒƒãƒ—</option>
          <option value="domestic">å›½å†…</option>
          <option value="world">å›½éš›</option>
          <option value="business">çµŒæ¸ˆ</option>
          <option value="entertainment">ã‚¨ãƒ³ã‚¿ãƒ¡</option>
          <option value="sports">ã‚¹ãƒãƒ¼ãƒ„</option>
          <option value="it">IT</option>
          <option value="science">ç§‘å­¦</option>
          <option value="local">åœ°åŸŸ</option>
        </select>
      </div>
      
      <div class="modal-buttons">
        <button class="save-btn" onclick="saveSettings()">ğŸ’¾ ä¿å­˜</button>
        <button class="cancel-btn" onclick="closeSettings()">âŒ ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
      </div>
    </div>
  </div>

  <script>
    // =====================================
    // è¨­å®šç®¡ç†
    // =====================================
    const REGION_NAMES = {
      '016000': 'æœ­å¹Œ', '017000': 'å‡½é¤¨',
      '020000': 'é’æ£®', '030000': 'å²©æ‰‹', '040000': 'å®®åŸ', '050000': 'ç§‹ç”°', '060000': 'å±±å½¢', '070000': 'ç¦å³¶',
      '080000': 'èŒ¨åŸ', '090000': 'æ ƒæœ¨', '100000':  'ç¾¤é¦¬', '110000': 'åŸ¼ç‰', '120000': 'åƒè‘‰', '130000': 'æ±äº¬', '140000': 'ç¥å¥ˆå·',
      '150000':  'æ–°æ½Ÿ', '160000': 'å¯Œå±±', '170000': 'çŸ³å·', '180000': 'ç¦äº•', '190000': 'å±±æ¢¨', '200000': 'é•·é‡', '210000': 'å²é˜œ', '220000': 'é™å²¡', '230000': 'æ„›çŸ¥',
      '240000': 'ä¸‰é‡', '250000': 'æ»‹è³€', '260000':  'äº¬éƒ½', '270000':  'å¤§é˜ª', '280000': 'å…µåº«', '290000': 'å¥ˆè‰¯', '300000': 'å’Œæ­Œå±±',
      '310000': 'é³¥å–', '320000':  'å³¶æ ¹', '330000':  'å²¡å±±', '340000': 'åºƒå³¶', '350000': 'å±±å£',
      '360000': 'å¾³å³¶', '370000': 'é¦™å·', '380000': 'æ„›åª›', '390000': 'é«˜çŸ¥',
      '400000': 'ç¦å²¡', '410000': 'ä½è³€', '420000': 'é•·å´', '430000': 'ç†Šæœ¬', '440000': 'å¤§åˆ†', '450000': 'å®®å´', '460100': 'é¹¿å…å³¶', '471000': 'æ²–ç¸„'
    };
    
    const CATEGORY_NAMES = {
      'top-picks':  'ãƒˆãƒƒãƒ—',
      'domestic': 'å›½å†…',
      'world':  'å›½éš›',
      'business': 'çµŒæ¸ˆ',
      'entertainment': 'ã‚¨ãƒ³ã‚¿ãƒ¡',
      'sports': 'ã‚¹ãƒãƒ¼ãƒ„',
      'it': 'IT',
      'science': 'ç§‘å­¦',
      'local':  'åœ°åŸŸ'
    };
    
    // LocalStorageã‹ã‚‰è¨­å®šã‚’èª­ã¿è¾¼ã¿
    function loadSettings() {
      const region = localStorage.getItem('weatherRegion') || '130000';
      const category = localStorage.getItem('newsCategory') || 'top-picks';
      return { region, category };
    }
    
    // LocalStorageã«è¨­å®šã‚’ä¿å­˜
    function saveSettingsToStorage(region, category) {
      localStorage.setItem('weatherRegion', region);
      localStorage.setItem('newsCategory', category);
    }
    
    // è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‹ã
    function openSettings() {
      const settings = loadSettings();
      document.getElementById('regionSelect').value = settings.region;
      document.getElementById('categorySelect').value = settings.category;
      document.getElementById('settingsModal').classList.add('active');
    }
    
    // è¨­å®šãƒ¢ãƒ¼ãƒ€ãƒ«ã‚’é–‰ã˜ã‚‹
    function closeSettings() {
      document.getElementById('settingsModal').classList.remove('active');
    }
    
    // è¨­å®šã‚’ä¿å­˜
    function saveSettings() {
      const region = document.getElementById('regionSelect').value;
      const category = document.getElementById('categorySelect').value;
      
      saveSettingsToStorage(region, category);
      
      // è¡¨ç¤ºåã‚’æ›´æ–°
      document.getElementById('regionName').textContent = REGION_NAMES[region];
      document.getElementById('categoryName').textContent = CATEGORY_NAMES[category];
      
      // ãƒ‡ãƒ¼ã‚¿ã‚’å†å–å¾—
      fetchWeather();
      fetchNews();
      
      closeSettings();
    }
    
    // =====================================
    // ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼è¡¨ç¤º
    // =====================================
    function updateCalendar() {
      const now = new Date();
      const month = now.getMonth() + 1;
      const date = now.getDate();
      const dayNames = ['æ—¥æ›œæ—¥', 'æœˆæ›œæ—¥', 'ç«æ›œæ—¥', 'æ°´æ›œæ—¥', 'æœ¨æ›œæ—¥', 'é‡‘æ›œæ—¥', 'åœŸæ›œæ—¥'];
      const day = dayNames[now.getDay()];
      
      document.getElementById('month').textContent = `${month}æœˆ`;
      document.getElementById('date').textContent = date;
      document.getElementById('day').textContent = day;
    }
    
    // =====================================
    // ç¾åœ¨æ™‚åˆ»è¡¨ç¤º
    // =====================================
    function updateTime() {
      const now = new Date();
      const hours = String(now.getHours()).padStart(2, '0');
      const minutes = String(now. getMinutes()).padStart(2, '0');
      document.getElementById('currentTime').textContent = `${hours}:${minutes}`;
    }
    
    // =====================================
    // å¤©æ°—æƒ…å ±å–å¾—ï¼ˆæ°—è±¡åºJSONï¼‰
    // =====================================
    async function fetchWeather() {
      try {
        const settings = loadSettings();
        const response = await fetch(`https://www.jma.go.jp/bosai/forecast/data/forecast/${settings.region}. json`);
        const data = await response.json();
        
        // ä»Šæ—¥ã®å¤©æ°—
        const today = data[0]. timeSeries[0];
        const weatherCode = today.areas[0].weatherCodes[0];
        const weather = today.areas[0].weathers[0];
        
        // æ°—æ¸©ãƒ‡ãƒ¼ã‚¿
        let temp = '--';
        if (data[0].timeSeries. length >= 3 && data[0].timeSeries[2].areas[0].temps) {
          temp = data[0].timeSeries[2].areas[0].temps[0];
        }
        
        // å¤©æ°—ã‚¢ã‚¤ã‚³ãƒ³è¨­å®š
        const weatherIcon = getWeatherIcon(weatherCode);
        
        document.getElementById('weatherIcon').textContent = weatherIcon;
        document.getElementById('temp').textContent = `${temp}Â°C`;
        document.getElementById('weatherDesc').textContent = weather. split('ã€€')[0];
        
        // è©³ç´°æƒ…å ±
        const wind = today.areas[0].winds[0];
        const wave = today.areas[0].waves ?  today.areas[0].waves[0] : '';
        
        document.getElementById('weatherDetails').innerHTML = `
          <div>ğŸ’¨ ${wind}</div>
          ${wave ? `<div>ğŸŒŠ ${wave}</div>` : ''}
        `;
        
      } catch (error) {
        console.error('å¤©æ°—æƒ…å ±ã®å–å¾—ã«å¤±æ•—:', error);
        document.getElementById('weatherDetails').innerHTML = 
          '<div style="color: #ff6b6b;">å¤©æ°—æƒ…å ±ã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸ</div>';
      }
    }
    
    // å¤©æ°—ã‚³ãƒ¼ãƒ‰ã‹ã‚‰ã‚¢ã‚¤ã‚³ãƒ³ã‚’å–å¾—
    function getWeatherIcon(code) {
      const iconMap = {
        '100': 'â˜€ï¸', '101': 'ğŸŒ¤ï¸', '102': 'â›…', '103': 'ğŸŒ¥ï¸',
        '104': 'â˜ï¸', '110': 'ğŸŒ¤ï¸', '111': 'ğŸŒ¤ï¸', '112': 'ğŸŒ¤ï¸',
        '113': 'ğŸŒ¤ï¸', '114':  'ğŸŒ¤ï¸', '115': 'ğŸŒ¤ï¸', '116': 'ğŸŒ¤ï¸',
        '117': 'ğŸŒ¤ï¸', '118': 'ğŸŒ¤ï¸', '119': 'ğŸŒ¤ï¸', '120':  'ğŸŒ¤ï¸',
        '121': 'ğŸŒ¤ï¸', '122': 'â›…', '123': 'ğŸŒ¥ï¸', '124': 'ğŸŒ¥ï¸',
        '125': 'ğŸŒ¥ï¸', '126': 'ğŸŒ¥ï¸', '127': 'ğŸŒ¥ï¸', '128': 'â˜ï¸',
        '130': 'ğŸŒ§ï¸', '131': 'ğŸŒ§ï¸', '132': 'ğŸŒ§ï¸', '140': 'ğŸŒ§ï¸',
        '200': 'â˜ï¸', '201': 'â˜ï¸', '202': 'â˜ï¸', '203': 'â˜ï¸',
        '204':  'â˜ï¸', '206': 'â˜ï¸', '207': 'â˜ï¸', '208': 'â˜ï¸',
        '209': 'â˜ï¸', '210': 'â˜ï¸', '211': 'â˜ï¸', '212': 'â˜ï¸',
        '213': 'â˜ï¸', '214': 'â˜ï¸', '215': 'â˜ï¸', '216': 'â˜ï¸',
        '217': 'â˜ï¸', '218': 'â˜ï¸', '219': 'â˜ï¸', '220': 'â˜ï¸',
        '221': 'â˜ï¸', '222': 'â˜ï¸', '223': 'â˜ï¸', '224': 'â˜ï¸',
        '225': 'â˜ï¸', '226': 'â˜ï¸', '228': 'â˜ï¸', '229': 'â˜ï¸',
        '230': 'â˜ï¸', '231': 'â˜ï¸', '240': 'ğŸŒ§ï¸', '250': 'ğŸŒ§ï¸',
        '260': 'ğŸŒ§ï¸', '270': 'â„ï¸', '281': 'â„ï¸', '300': 'ğŸŒ§ï¸',
        '301': 'ğŸŒ§ï¸', '302': 'ğŸŒ§ï¸', '303': 'ğŸŒ§ï¸', '304': 'ğŸŒ§ï¸',
        '306': 'ğŸŒ§ï¸', '308': 'ğŸŒ§ï¸', '309': 'ğŸŒ§ï¸', '311': 'ğŸŒ§ï¸',
        '313': 'ğŸŒ§ï¸', '314': 'ğŸŒ§ï¸', '315': 'ğŸŒ§ï¸', '316': 'ğŸŒ§ï¸',
        '317': 'ğŸŒ§ï¸', '320': 'ğŸŒ§ï¸', '321': 'ğŸŒ§ï¸', '322': 'ğŸŒ§ï¸',
        '323': 'ğŸŒ§ï¸', '324': 'ğŸŒ§ï¸', '325':  'ğŸŒ§ï¸', '326': 'ğŸŒ§ï¸',
        '327': 'ğŸŒ§ï¸', '328': 'ğŸŒ§ï¸', '329': 'ğŸŒ§ï¸', '340': 'â„ï¸',
        '350': 'â„ï¸', '361': 'â„ï¸', '371': 'â„ï¸', '400': 'â„ï¸',
      };
      return iconMap[code] || 'ğŸŒˆ';
    }
    
    // =====================================
    // ãƒ‹ãƒ¥ãƒ¼ã‚¹å–å¾—ï¼ˆYahoo!  ãƒ‹ãƒ¥ãƒ¼ã‚¹RSSï¼‰
    // =====================================
    async function fetchNews() {
      try {
        const settings = loadSettings();
        const rssUrl = `https://news.yahoo.co.jp/rss/topics/${settings.category}. xml`;
        const apiUrl = `https://api.rss2json.com/v1/api. json?rss_url=${encodeURIComponent(rssUrl)}`;
        
        const response = await fetch(apiUrl);
        const data = await response.json();
        
        const newsList = document.getElementById('newsList');
        newsList.innerHTML = '';
        
        // æœ€æ–°8ä»¶ã‚’è¡¨ç¤º
        data.items.slice(0, 8).forEach((item, index) => {
          const newsItem = document.createElement('div');
          newsItem.className = 'news-item';
          newsItem.textContent = `${index + 1}. ${item. title}`;
          newsList.appendChild(newsItem);
        });
        
      } catch (error) {
        console.error('ãƒ‹ãƒ¥ãƒ¼ã‚¹ã®å–å¾—ã«å¤±æ•—:', error);
        document.getElementById('newsList').innerHTML = 
          '<div style="color: #ff6b6b;">ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸ</div>';
      }
    }
    
    // =====================================
    // åˆæœŸåŒ–ã¨å®šæœŸæ›´æ–°
    // =====================================
    function init() {
      // è¨­å®šã‚’èª­ã¿è¾¼ã‚“ã§è¡¨ç¤ºåã‚’æ›´æ–°
      const settings = loadSettings();
      document.getElementById('regionName').textContent = REGION_NAMES[settings.region];
      document.getElementById('categoryName').textContent = CATEGORY_NAMES[settings.category];
      
      updateCalendar();
      updateTime();
      fetchWeather();
      fetchNews();
      
      // 1åˆ†ã”ã¨ã«æ™‚åˆ»ã¨ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚’æ›´æ–°
      setInterval(() => {
        updateCalendar();
        updateTime();
      }, 60000);
      
      // 10åˆ†ã”ã¨ã«å¤©æ°—ã‚’æ›´æ–°
      setInterval(fetchWeather, 600000);
      
      // 5åˆ†ã”ã¨ã«ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’æ›´æ–°
      setInterval(fetchNews, 300000);
    }
    
    // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿æ™‚ã«å®Ÿè¡Œ
    init();
  </script>
</body>
</html>